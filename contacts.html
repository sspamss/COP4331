<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Contacts</title>
        <link href='https://fonts.googleapis.com/css?family=Otomanopee One' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Karla' rel='stylesheet'>
        <link rel="stylesheet" href="css/contacts.css">
        <script src="https://kit.fontawesome.com/bcdd074f5e.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


        <script type="text/javascript" src="js/code.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function ()
            {
                readCookie();
                loadContacts();
            }, false);
        </script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>      
    </head>

    <body>

        <div id="navbar">
            <!-- <span style="color:#000000" id="userName"></span><br /> -->
            <img id="b-dino" src="images/baby-dino.png" alt="mista dino"> 
            <div id="welcome">Contactasaurus</div>
            <div id="logout"><button id="addContactButton" type="button" onclick="doLogout();">Logout</button></div>
          </div>


        <div class="search-contact">
            <span style="color:#000000;padding-top:10px" id="userName"></span><br />
        </div> 

        <div class = "main-container">
            
            <div class = "record-input">
                <h2>Contact Details</h2>

                <div class = "entry-form">
                    <form id="tableContacts" action="" method="post">
                        <label for = "name">First Name</label>
                        <input type = "text" id="firstNameTable" placeholder="First Name" required>

                        <label for = "Last Name">Last Name</label>
                        <input type = "text" id="lastNameTable" placeholder="Last Name" required>

                        <label for = "Email">Email</label>
                        <input type = "text" id="emailTable" placeholder="Email">

                        <label for = "Phone">Phone Number</label>
                        <input type = "text" id="phoneNumber" placeholder="Phone Number">
                        
                        <div class = "input-btns">
                            <button type="button" id="addContactButton" class="buttons font" onclick="addContact();"> Add Contact</button>
                            <span style="transition-duration: 0.2s;" id="contactAdded"></span>
                            
                        </div> 
                    </form>

                    <span class = "message"></span>
                </div>

            </div>

            <div class = "record-display">
                <div class="line-div">
                    <div class="line"></div>
                    <div style="display:inline-block;">
                        <h2>
                            Available Contacts 
                        </h2>
                    </div>
                    <div class="line"></div>
                </div>

                <div class="search-content">
                    <input type="text" id="myInput" class="search-bar" onkeyup='tableSearch()' placeholder="Search for contact...">
                </div>

                <div class = "record-container"  style="overflow-y:auto">
                    <div class="tables">
                        <div class="content-table" id="contactsTable">
                            <table id="contacts">
                                <thead>
                                    <tr>
                                        <th>First Name</th>
                                        <th>Last Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>EDIT/SAVE/DELETE</th>
                                    </tr>
                                </thread>
                                <tbody id="tableInformation"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <script type="application/javascript">
            function tableSearch() 
            {
                let input, filter, table, tr, td, txtValue;
    
                //Intialising Variables
                input = document.getElementById("myInput");
                filter = input.value.toUpperCase();
                table = document.getElementById("contacts");
                tr = table.getElementsByTagName("tr");
    
                for (let i = 0; i < tr.length; i++) 
                {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) 
                    {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) 
                        {
                            tr[i].style.display = "";
                        } else 
                        {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }
        </script>        
    </body>
</html>